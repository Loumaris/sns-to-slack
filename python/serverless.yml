# Welcome to Serverless!
#
# This file is the main config file for your service.
# It's very minimal at this point and uses default values.
# You can always add more config options for more control.
# We've included some commented out config examples here.
# Just uncomment any of them to get that config option.
#
# For full config options, check the docs:
#    docs.serverless.com
#
# Happy Coding!

service: my-cool-lambda

provider:
  name: aws
  runtime: python3.6
  stage: dev
  region: us-west-2
  timeout: 10 # The default is 6 seconds. Note: API Gateway current maximum is 30 seconds
  deploymentBucket:
    name: my-serverlessdeploymentbucket # Deployment bucket name. Default is generated by the framework
    serverSideEncryption: AES256 # when using server-side encryption
  role: arn:aws:iam::xxx:role/myrole  # Overwrite the default IAM role which is used for all functions

  # you can define service wide environment variables here
  environment:
    # LOG_LEVEL can be CRITICAL, ERROR, WARNING, INFO or DEBUG; Case in-sensitive
    LOG_LEVEL: INFO

package:
  individually: true
  exclude:
  - .git/**
  - node_modules/**
  - deploy.sh
  - .idea

functions:
  sns2slack:
    name: ${self:service}-${self:provider.stage}-sns2slack # optional, Deployed Lambda name
    description: My Awesome SNS to Slack Lambda (${self:provider.stage}) # The description of your function.
    memorySize: 256 # memorySize for this specific function.
    handler: sns2slack.handler
    timeout: 45 # Timeout for this specific function in seconds.  Overrides the default set above.
    events: # The Events that trigger this Function
    - sns:
      topicName: sns-topic-name-to-be-created  # SNS topic will be created by Serverless
      displayName: File Ingest Events

plugins:
- serverless-python-requirements
custom:
  pythonRequirements:
    dockerizePip: non-linux
    zip: false
